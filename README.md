# 身份识别工具

一个简洁高效的身份识别系统，支持命令行和Web界面两种使用方式，未命中别名时会按 ASCII 和取余规则给出稳定的身份结果。

## 功能特性

- 🔍 快速身份识别
- 👥 支持多别名匹配
- 🎯 未命中时按 ASCII 和取余进行确定性分配
- 🌐 Web用户界面（示例快捷键 + 查询历史）
- 🌐 Web用户界面（示例快捷键 + 查询历史 + 随机体验 + 持久化历史）
- 💻 命令行工具
- 📱 响应式设计

## 项目结构

```
verify-identity/
├── main.py              # 命令行工具
├── app.py               # Flask Web应用
├── identity.py          # 核心身份库与识别逻辑
├── requirements.txt     # 项目依赖
├── templates/
│   └── index.html       # 前端页面
└── static/
    ├── css/
    │   └── style.css    # 样式文件
    └── js/
        └── app.js       # 前端脚本
```

## 安装

1. 安装依赖包：
```bash
pip install -r requirements.txt
```

## 使用方法

### 方式一：命令行工具

直接查询：
```bash
python main.py 梦计划
```

示例输出：
```
一头猪 - 规则匹配
```

交互式查询：
```bash
python main.py
```

### 方式二：Web界面

1. 启动Web应用：
```bash
python app.py
```

2. 在浏览器中打开：
```
http://localhost:5000
```

### 通过 ngrok 公开访问

1. 安装并登录 ngrok（需要在 ngrok 官网获取 authtoken）。
2. 启动本地服务（可自定义端口）：
    ```bash
    set PORT=5000
    python app.py
    ```
3. 开一个新终端运行 ngrok：
    ```bash
    ngrok http 5000
    ```
    或显式指向本地地址：
    ```bash
    ngrok http http://localhost:5000
    ```
4. 将 ngrok 提供的公网 URL 分享给他人即可访问。
5. 如需修改端口，设置环境变量 PORT 后同时在 ngrok 命令中使用相同端口。

## 别名数据

当前系统包含以下身份识别规则（别名可继续扩展）：

| 身份标签 | 别名示例 |
|---------|----------|
| 大师兄 | 孙悟空, 齐天大圣, 悟空, 猴子, wukong |
| 二师兄 | 猪八戒, 八戒, 天蓬元帅, zhu, bajie |
| 三师弟 | 沙僧, 沙悟净, 沙和尚, sha, wujing |
| 唐僧 | 唐三藏, 玄奘, tang, sanzang, 和尚 |
| 哪吒 | 哪吒三太子, nazha, 小哪吒, 莲花化身 |
| 二郎神 | 杨戬, yangerlang, 哮天犬, 真君, 杨二郎 |
| 嫦娥 | 嫦娥仙子, chang e, 月神, 广寒宫, 奔月 |
| 牛魔王 | 平天大圣, niu mo wang, 牛大, 铁扇公主夫 |
| 红孩儿 | 圣婴大王, hong haier, 红孩子, 火云洞 |

## 技术栈

- **后端**：Python + Flask
- **前端**：HTML + CSS + JavaScript
- **样式**：现代化渐变设计
- **响应式**：支持各种屏幕尺寸

## 功能说明

### 核心功能

- 输入匹配：支持精确和模糊匹配
- 自动识别：命中别名即返回对应身份
- 回退分配：未匹配时，将输入字符的 ASCII 码求和，按当前身份数量取余并返回对应身份，结果稳定可复现

### Web界面特性

- 实时搜索反馈
- 结果中展示命中方式（规则匹配/智能分配）
- 快速示例 chips，一键填充常用别名
- 最近查询列表，可一键清空，且自动本地持久化
- “随机体验”按钮，随机挑选示例并查询
- 优雅的UI设计，移动端友好

## 许可证

MIT
